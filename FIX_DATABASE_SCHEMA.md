# ๐ง ุฅุตูุงุญ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนูู Render

## โ ุชู ุงูุชุดุงู ุงููุดููุฉ!

### ูู Logs:
```
โ ุชู ุญูุธ Token: eyJhbGciOiJIUzI1NiIs...
๐ Token ูู SharedPreferences: ููุฌูุฏ
โ Token ููุฌูุฏุ ุฌุงุฑู ุฌูุจ ุงูุจูุงูุงุช ูู ุงูุณูุฑูุฑ...
```

**Token ูุนูู ุจุดูู ุตุญูุญ! โ**

### ููู ูู Render Logs:
```
โ error: "Column \"role\" does not exist"
```

**ุงููุดููุฉ:** ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนูู Render **ูุง ุชุญุชูู ุนูู ุนููุฏ `role`**!

---

## ๐ง ุงูุญู:

### ุงูุฎุทูุฉ 1๏ธโฃ: ุงูุชุญ Render Dashboard
1. ุงุฐูุจ ุฅูู: https://dashboard.render.com
2. ุงุฎุชุฑ `dalma-db` (ูุงุนุฏุฉ ุงูุจูุงูุงุช)
3. ุงุถุบุท ุนูู **"Connect"** ุฃู **"Shell"**

### ุงูุฎุทูุฉ 2๏ธโฃ: ููุฐ ูุฐุง ุงูุฃูุฑ SQL:

```sql
-- ุฅุถุงูุฉ ุนููุฏ role
ALTER TABLE users ADD COLUMN IF NOT EXISTS role VARCHAR(20) DEFAULT 'user';

-- ุชุญุฏูุซ ุงููุณุชุฎุฏููู ุงูููุฌูุฏูู
UPDATE users SET role = 'user' WHERE role IS NULL;

-- ุงูุชุญูู ูู ุงููุชูุฌุฉ
SELECT id, name, phone, role, created_at FROM users ORDER BY id DESC LIMIT 5;
```

### ุงูุฎุทูุฉ 3๏ธโฃ: ุชุญูู ูู ุงููุชูุฌุฉ
ูุฌุจ ุฃู ุชุฑู:
```
id | name  | phone       | role | created_at
---+-------+-------------+------+------------
23 | Kim's | 0509090090  | user | 2025-10-13
...
```

---

## ๐ ุจุนุฏ ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช:

### 1๏ธโฃ ูู ุงูุชุทุจูู:
- ุงุถุบุท `R` (Hot Restart)

### 2๏ธโฃ ุงูุชุญ ุตูุญุฉ "ุญุณุงุจู"

**ุณุชุนูู ุจุดูู ูุซุงูู! ๐**

---

## ๐ ููุงุญุธุฉ ูููุฉ:

### ููุงุฐุง ุญุฏุซุช ูุฐู ุงููุดููุฉุ

ุนูุฏูุง ุฃูุดุฃูุง ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนูู Render ูุฃูู ูุฑุฉุ ุงุณุชุฎุฏููุง `init.sql` ุงููุฏูู ุงูุฐู **ูุง ูุญุชูู ุนูู ุนููุฏ `role`**.

ุงูููุฏ ุงูุฌุฏูุฏ ุงูุฐู ุฑูุนูุงู ูุชููุน ูุฌูุฏ ุนููุฏ `role`ุ ูุฐูู ูุญุชุงุฌ ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฏููุงู.

---

## ๐ ููู ุชุชุญูู ูู Render Shell:

### ุงูุทุฑููุฉ 1: ูู Dashboard
1. ุงูุชุญ Render Dashboard
2. ุงุฐูุจ ุฅูู `dalma-db`
3. ุงุถุบุท **"Connect"**
4. ุงุฎุชุฑ **"External Connection"**
5. ุงูุณุฎ ุงูุฃูุฑ ูุงุณุชุฎุฏูู ูู Terminal

### ุงูุทุฑููุฉ 2: ูู Terminal ูุจุงุดุฑุฉ
```bash
# ุงุณุชุฎุฏู DATABASE_URL ูู Environment Variables
psql "postgresql://USER:PASSWORD@HOST/DATABASE?sslmode=require"
```

---

## โ ุงูุจุฏูู ุงูุณุฑูุน (ุฅุฐุง ูู ุชุณุชุทุน ุงููุตูู ููู Shell):

### ูููููู ุฅุถุงูุฉ migration script ูู ุงูููุฏ:

ุณุฃุถูู ูู `index.js`:
```javascript
// Auto-migration: ุฅุถุงูุฉ ุนููุฏ role ุฅุฐุง ูู ููู ููุฌูุฏุงู
pool.query(`
  ALTER TABLE users ADD COLUMN IF NOT EXISTS role VARCHAR(20) DEFAULT 'user'
`).catch(err => console.log('Migration already applied or error:', err.message));
```

**ูู ุชุฑูุฏ ูุฐุง ุงูุญูุ** (ุณูุชู ุชุทุจููู ุชููุงุฆูุงู ุนูุฏ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุณูุฑูุฑ)

---

## ๐ฏ ุงูุฎูุงุตุฉ:

| ุงููุดููุฉ | ุงูุญู |
|---------|------|
| Token ูุง ูุนูู | โ ุชู ุงูุญู - Token ูุนูู! |
| ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฏููุฉ | โณ ูุญุชุงุฌ ุฅุถุงูุฉ ุนููุฏ `role` |
| ุงูุญู | ุชูููุฐ SQL ูู Render Shell |

---

## ๐ก ุงูุญู ุงูุฃุณุฑุน:

**ุณุฃุถูู auto-migration ูู ุงูููุฏ ุงูุขู!**

ูู ุชุญุชุงุฌ ูุนู ุฃู ุดูุกุ ููุท:
1. ุงูุชุธุฑ ุฏูููุชูู
2. ุงุถุบุท `R` ูู ุงูุชุทุจูู
3. ุงูุชุญ "ุญุณุงุจู"

**ุณูุนูู ุชููุงุฆูุงู! ๐**

**ูู ุชุฑูุฏ ุฃู ุฃุถูู auto-migration ุงูุขูุ**

