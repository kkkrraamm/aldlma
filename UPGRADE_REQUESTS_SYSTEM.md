# ๐ ูุธุงู ุทูุจุงุช ุงูุชุฑููุฉ

## โ ูุง ุชู ุฅุถุงูุชู:

### ูุธุงู ูุงูู ูุฅุฏุงุฑุฉ ุทูุจุงุช ุชุฑููุฉ ุงูุจุงูุงุช!

---

## ๐ฏ ููู ูุนูู ุงููุธุงู:

### 1๏ธโฃ ุงูููุชุจ ูุทูุจ ุงูุชุฑููุฉ:

**ูู ุตูุญุฉ "ุงูุจุงูุฉ ูุงูุงุดุชุฑุงู":**
```
[๐ ุชุฑููุฉ ููุงุญุชุฑุงูู]
```

**ุนูุฏ ุงูุถุบุท:**
1. ูุชู ุฅูุดุงุก ุทูุจ ุชุฑููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. ูุธูุฑ alert ููููุชุจ: "ุชู ุฅุฑุณุงู ุงูุทูุจ"
3. ุงูุทูุจ ูุฐูุจ ูู Admin Pro

---

### 2๏ธโฃ ุงูุฅุฏุงุฑุฉ ุชุฑุงุฌุน ุงูุทูุจ:

**ูู Admin Pro โ ุทูุจุงุช ุงูุชุฑููุฉ:**

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ ุทูุจุงุช ุงูุชุฑููุฉ                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ุฅุญุตุงุฆูุงุช:                                              โ
โ - ููุฏ ุงููุฑุงุฌุนุฉ: 3                                      โ
โ - ุชู ุงูููุงููุฉ: 12                                      โ
โ - ุชู ุงูุฑูุถ: 2                                          โ
โ - ุฅูุฑุงุฏุงุช ูุชููุนุฉ: 1,497 ุฑ.ุณ                           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ุงูููุชุจ | ุงูุญุงููุฉ | ุงููุทููุจุฉ | ุงูุณุนุฑ | ุงูุชุงุฑูุฎ | ุงูุญุงูุฉ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ููุชุจ ุงููุงูุฑ | ูุฌุงูู | ุงุญุชุฑุงูู | 499 ุฑ.ุณ | ุงูููู | โณ  โ
โ [โ ููุงููุฉ] [โ ุฑูุถ]                                    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

### 3๏ธโฃ ุงูููุงููุฉ ุนูู ุงูุทูุจ:

**ุนูุฏ ุงูุถุบุท ุนูู "ููุงููุฉ":**
1. โ ูุชู ุชุฑููุฉ ุงูุจุงูุฉ ุชููุงุฆูุงู
2. โ ุชูุนูู ุงูุงุดุชุฑุงู ููุฏุฉ 30 ููู
3. โ ูุชุญ ุฌููุน ููุฒุงุช ุงูุจุงูุฉ ุงูุฌุฏูุฏุฉ
4. โ ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ ุฅูู "ุชู ุงูููุงููุฉ"

---

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช:

### ุฌุฏูู ุฌุฏูุฏ: `realty_upgrade_requests`

```sql
CREATE TABLE realty_upgrade_requests (
  id SERIAL PRIMARY KEY,
  office_id INTEGER REFERENCES realty_offices(id),
  current_plan VARCHAR(20) NOT NULL,
  requested_plan VARCHAR(20) NOT NULL,
  plan_price DECIMAL(10, 2) NOT NULL,
  notes TEXT,
  status VARCHAR(20) DEFAULT 'pending',
  reviewed_by VARCHAR(100),
  review_notes TEXT,
  created_at TIMESTAMP DEFAULT NOW(),
  reviewed_at TIMESTAMP
);
```

---

## ๐ API Endpoints:

### 1๏ธโฃ ุฅูุดุงุก ุทูุจ ุชุฑููุฉ (ูู ุงูููุชุจ)
```
POST /api/office/upgrade-request
Authorization: Bearer {office_token}

Body:
{
  "requested_plan": "pro",
  "notes": "ุฃุฑูุฏ ุงููุฒูุฏ ูู ุงูููุฒุงุช"
}

Response:
{
  "success": true,
  "request": {...}
}
```

---

### 2๏ธโฃ ุฌูุจ ุทูุจุงุช ุงูุชุฑููุฉ (Admin)
```
GET /api/admin/upgrade-requests
Authorization: Bearer {admin_token}

Response:
{
  "success": true,
  "requests": [
    {
      "id": 1,
      "office_name": "ููุชุจ ุงููุงูุฑ",
      "office_city": "ุนุฑุนุฑ",
      "current_plan": "free",
      "requested_plan": "pro",
      "plan_price": 499,
      "status": "pending",
      "created_at": "2025-11-13..."
    }
  ]
}
```

---

### 3๏ธโฃ ุงูููุงููุฉ ุนูู ุทูุจ (Admin)
```
POST /api/admin/upgrade-requests/:id/approve
Authorization: Bearer {admin_token}

Response:
{
  "success": true
}
```

**ูุง ูุญุฏุซ:**
- โ ุชุญุฏูุซ `realty_subscriptions` ุจุงูุจุงูุฉ ุงูุฌุฏูุฏุฉ
- โ ุชูุนูู ุงูุงุดุชุฑุงู ููุฏุฉ 30 ููู
- โ ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ ุฅูู "approved"

---

### 4๏ธโฃ ุฑูุถ ุทูุจ (Admin)
```
POST /api/admin/upgrade-requests/:id/reject
Authorization: Bearer {admin_token}

Body:
{
  "reason": "ุณุจุจ ุงูุฑูุถ"
}

Response:
{
  "success": true
}
```

---

## ๐ ุงููููุงุช ุงูุฌุฏูุฏุฉ:

1. โ `dalma-admin-pro/upgrade-requests.html` - ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุทูุจุงุช
2. โ `dalma-admin-pro/js/upgrade-requests.js` - JavaScript ููุตูุญุฉ
3. โ `dalma-api/index.js` - 4 endpoints ุฌุฏูุฏุฉ + ุฌุฏูู ุฌุฏูุฏ

---

## ๐จ ุงูููุฒุงุช:

### ูู Admin Pro:
- โ ุนุฑุถ ุฌููุน ุงูุทูุจุงุช
- โ ุฅุญุตุงุฆูุงุช (ูุนููุ ููุงููุ ูุฑููุถุ ุฅูุฑุงุฏุงุช)
- โ ููุชุฑุฉ ุญุณุจ ุงูุญุงูุฉ
- โ ููุงููุฉ ุจุถุบุทุฉ ูุงุญุฏุฉ
- โ ุฑูุถ ูุน ุณุจุจ
- โ ุนุฑุถ ุงูุชูุงุตูู

### ูู ุจูุงุจุฉ ุงูููุงุชุจ:
- โ ุฒุฑ "ุชุฑููุฉ" ูู ูู ุจุงูุฉ
- โ ุฅุฑุณุงู ุทูุจ ุชููุงุฆู
- โ ุฑุณุงูุฉ ุชุฃููุฏ
- โ ููุน ุงูุทูุจุงุช ุงูููุฑุฑุฉ

---

## ๐ ุชุฏูู ุงูุนูู:

```
1. ุงูููุชุจ ูุถุบุท "ุชุฑููุฉ ููุงุญุชุฑุงูู"
   โ
2. ูุธูุฑ ุชุฃููุฏ: "ุงูุณุนุฑ: 499 ุฑ.ุณ"
   โ
3. ูุชู ุฅูุดุงุก ุทูุจ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
   โ
4. ุงูุทูุจ ูุธูุฑ ูู Admin Pro
   โ
5. ุงูุฅุฏุงุฑุฉ ุชุฑุงุฌุน ูุชูุงูู
   โ
6. ูุชู ุชุฑููุฉ ุงูุจุงูุฉ ุชููุงุฆูุงู
   โ
7. ุงูููุชุจ ูุญุตู ุนูู ุฌููุน ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ!
```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช:

### ูู ุตูุญุฉ ุทูุจุงุช ุงูุชุฑููุฉ:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ููุฏ ุงููุฑุงุฌุนุฉ: 3                    โ
โ ุชู ุงูููุงููุฉ: 12                    โ
โ ุชู ุงูุฑูุถ: 2                        โ
โ ุฅูุฑุงุฏุงุช ูุชููุนุฉ: 1,497 ุฑ.ุณ         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ฏ ุงูููุงุฆุฏ:

### ููููุงุชุจ:
- โ ุทูุจ ุชุฑููุฉ ุณูู ูุณุฑูุน
- โ ูุง ุญุงุฌุฉ ููุงุชุตุงู
- โ ุชุชุจุน ุญุงูุฉ ุงูุทูุจ

### ููุฅุฏุงุฑุฉ:
- โ ุฅุฏุงุฑุฉ ูุฑูุฒูุฉ ููุทูุจุงุช
- โ ููุงููุฉ ุจุถุบุทุฉ ูุงุญุฏุฉ
- โ ุชุชุจุน ุงูุฅูุฑุงุฏุงุช
- โ ุฅุญุตุงุฆูุงุช ุดุงููุฉ

---

## ๐ ุงูุญุงูุฉ:

**Backend:** โ ุชู ุฑูุนู (Commit: c701207)
**Frontend:** โ ุฌุงูุฒ ูุญููุงู

---

## โฑ๏ธ ุงูุงูุชุธุงุฑ:

**3-5 ุฏูุงุฆู** ุญุชู ููุดุฑ Render ุงูุชุญุฏูุซ.

---

## ๐งช ุงูุงุฎุชุจุงุฑ:

### 1๏ธโฃ ูู ุจูุงุจุฉ ุงูููุงุชุจ:
1. ุงุฐูุจ ุฅูู "ุงูุจุงูุฉ ูุงูุงุดุชุฑุงู"
2. ุงุถุบุท "ุชุฑููุฉ ููุงุญุชุฑุงูู"
3. ุฃูุฏ ุงูุทูุจ
4. ูุฌุจ ุฃู ุชุฑู: "โ ุชู ุฅุฑุณุงู ุงูุทูุจ"

### 2๏ธโฃ ูู Admin Pro:
1. ุงุฐูุจ ุฅูู "ุทูุจุงุช ุงูุชุฑููุฉ"
2. ูุฌุจ ุฃู ุชุฑู ุงูุทูุจ ุงูุฌุฏูุฏ
3. ุงุถุบุท "ููุงููุฉ"
4. ูุชู ุชุฑููุฉ ุงูููุชุจ ุชููุงุฆูุงู

### 3๏ธโฃ ุงูุชุญูู:
1. ุงูููุชุจ ูุนูุฏ ุชุญููู ุตูุญุฉ ุงูุชุญูููุงุช
2. ูุฌุจ ุฃู ูุฑู ููุฒุงุช Pro ููุชูุญุฉ
3. ุงูุจูุงูุงุช ุงูุญููููุฉ ุชุธูุฑ

---

**ุชู ุฅุถุงูุฉ ูุธุงู ุทูุจุงุช ุงูุชุฑููุฉ ุจูุฌุงุญ!** ๐โจ


